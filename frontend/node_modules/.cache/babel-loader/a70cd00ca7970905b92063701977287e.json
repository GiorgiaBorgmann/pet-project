{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/giorgiaborgmann/Documents/Itc/pet-project/pet-project/frontend/src/modules/HeaderUser.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport photo from '../img/user-photo.PNG';\nimport axios from './axios';\n\nfunction HeaderUser() {\n  _s();\n\n  const [infoUser, setInfoUser] = useState(\"\");\n  useEffect(() => {\n    const userInfo = async () => {\n      const response = await axios.get(\"/userinfo\", {\n        headers: {\n          'auth-token': localStorage.getItem('token'),\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        }\n      });\n\n      if (response.status === 200) {\n        localStorage.setItem('id', response.data._id);\n      }\n\n      const nameAndLastName = await axios.get(`/userinfo/username/${response.data._id}`, {\n        headers: {\n          'auth-token': localStorage.getItem('token'),\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        }\n      });\n      localStorage.setItem('role', nameAndLastName.data.role);\n      setInfoUser(nameAndLastName);\n    };\n\n    userInfo();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"header-user-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-user\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"welcome\",\n        children: `Welcome ${infoUser ? infoUser.data.name : \"loading\"} ${infoUser ? infoUser.data.lastName : \"loading\"}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"welcome\",\n        children: \"to the The Waiting Game!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"proposal\",\n        children: \"A pet adoption proposal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n}\n\n_s(HeaderUser, \"3ZZOJejT59tNVqxm6pQofETIJRg=\");\n\n_c = HeaderUser;\nexport default HeaderUser;\n\nvar _c;\n\n$RefreshReg$(_c, \"HeaderUser\");","map":{"version":3,"sources":["/Users/giorgiaborgmann/Documents/Itc/pet-project/pet-project/frontend/src/modules/HeaderUser.js"],"names":["React","useState","useEffect","photo","axios","HeaderUser","infoUser","setInfoUser","userInfo","response","get","headers","localStorage","getItem","status","setItem","data","_id","nameAndLastName","role","name","lastName"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,uBAAlB;AACA,OAAOC,KAAP,MAAkB,SAAlB;;AACA,SAASC,UAAT,GAAsB;AAAA;;AAElB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BN,QAAQ,CAAC,EAAD,CAAxC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMM,QAAQ,GAAG,YAAY;AACzB,YAAMC,QAAQ,GAAG,MAAML,KAAK,CAACM,GAAN,CAAU,WAAV,EAAuB;AAC1CC,QAAAA,OAAO,EAAE;AACL,wBAAcC,YAAY,CAACC,OAAb,CAAqB,OAArB,CADT;AAEL,oBAAU,kBAFL;AAGL,0BAAgB;AAHX;AADiC,OAAvB,CAAvB;;AAOA,UAAIJ,QAAQ,CAACK,MAAT,KAAoB,GAAxB,EAA6B;AACzBF,QAAAA,YAAY,CAACG,OAAb,CAAqB,IAArB,EAA2BN,QAAQ,CAACO,IAAT,CAAcC,GAAzC;AACH;;AACD,YAAMC,eAAe,GAAG,MAAMd,KAAK,CAACM,GAAN,CAAW,sBAAqBD,QAAQ,CAACO,IAAT,CAAcC,GAAI,EAAlD,EAAqD;AAC/EN,QAAAA,OAAO,EAAE;AACL,wBAAcC,YAAY,CAACC,OAAb,CAAqB,OAArB,CADT;AAEL,oBAAU,kBAFL;AAGL,0BAAgB;AAHX;AADsE,OAArD,CAA9B;AAOAD,MAAAA,YAAY,CAACG,OAAb,CAAqB,MAArB,EAA6BG,eAAe,CAACF,IAAhB,CAAqBG,IAAlD;AACAZ,MAAAA,WAAW,CAACW,eAAD,CAAX;AACH,KApBD;;AAqBAV,IAAAA,QAAQ;AAEX,GAxBQ,EAwBN,EAxBM,CAAT;AA0BA,sBACI;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAA,2BACI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA,8BACI;AAAK,QAAA,SAAS,EAAC,SAAf;AAAA,kBAA2B,WAAUF,QAAQ,GAAGA,QAAQ,CAACU,IAAT,CAAcI,IAAjB,GAAwB,SAAU,IAAGd,QAAQ,GAAGA,QAAQ,CAACU,IAAT,CAAcK,QAAjB,GAA4B,SAAU;AAAhI;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAK,QAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAWH;;GAzCQhB,U;;KAAAA,U;AA0CT,eAAeA,UAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport photo from '../img/user-photo.PNG'\nimport axios from './axios'\nfunction HeaderUser() {\n\n    const [infoUser, setInfoUser] = useState(\"\")\n\n    useEffect(() => {\n        const userInfo = async () => {\n            const response = await axios.get(\"/userinfo\", {\n                headers: {\n                    'auth-token': localStorage.getItem('token'),\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                }\n            })\n            if (response.status === 200) {\n                localStorage.setItem('id', response.data._id);\n            }\n            const nameAndLastName = await axios.get(`/userinfo/username/${response.data._id}`, {\n                headers: {\n                    'auth-token': localStorage.getItem('token'),\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                }\n            })\n            localStorage.setItem('role', nameAndLastName.data.role)\n            setInfoUser(nameAndLastName)\n        }\n        userInfo()\n        \n    }, [])\n\n    return (\n        <div className=\"header-user-container\">\n            <div className=\"text-user\">\n                <div className=\"welcome\">{`Welcome ${infoUser ? infoUser.data.name : \"loading\"} ${infoUser ? infoUser.data.lastName : \"loading\"}`}</div>\n                <div className=\"welcome\">to the The Waiting Game!</div>\n                <div className=\"proposal\">A pet adoption proposal</div>\n            </div>\n        </div>\n    )\n\n\n}\nexport default HeaderUser;"]},"metadata":{},"sourceType":"module"}